<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ejercicio 4 - Ley de Signos</title>
<link rel="stylesheet" href="css/estilo.css">
</head>
<body>
<div class="container">
    <h2>Ejercicio 4: Suma y resta de Enteros con ley de signos</h2>
    <label>Nombre del estudiante:</label>
    <input type="text" id="nombre" placeholder="Escribe tu nombre">
    <div>
        <label>Tiempo restante: </label>
        <span id="reloj">05:00</span>
    </div>
    <div id="pregunta"></div>
    <input type="text" id="respuesta" placeholder="Escribe tu respuesta">
    <button id="btnValidar">Validar respuesta</button>
    <div id="mensaje"></div>
    <div id="aciertosContador">Aciertos: 0 / 5</div>

    <p><a href="index.html">⬅ Volver al menú principal</a></p>
</div>

<script>
const preguntasEj3 = [
    { "pregunta": "-4 + (-5) + 3 - (-2)", "respuesta": "-4" },
    { "pregunta": "6 - (-3) + (-2) - 5", "respuesta": "+2" },
    { "pregunta": "-7 - (-4) + 6 + (-3)", "respuesta": "0" },
    { "pregunta": "8 + (-2) - (-5) + (-3)", "respuesta": "+8" },
    { "pregunta": "9 - (-6) + 2 - (-4)", "respuesta": "+21" },
    { "pregunta": "-5 + (-7) - (-3) + 4", "respuesta": "-5" },
    { "pregunta": "7 - (-2) + (-5) - (-1)", "respuesta": "+5" },
    { "pregunta": "-3 + 6 - (-4) + (-2)", "respuesta": "+5" },
    { "pregunta": "4 - (-3) + (-6) - 2", "respuesta": "-1" },
    { "pregunta": "-6 + (-2) - (-5) + 3", "respuesta": "0" },
    { "pregunta": "5 - (-4) + (-3) - (-2)", "respuesta": "+8" },
    { "pregunta": "-8 + (-1) + 7 - (-3)", "respuesta": "+1" },
    { "pregunta": "3 - (-5) + (-4) - (-6)", "respuesta": "+10" },
    { "pregunta": "-2 + (-3) + 5 - (-1)", "respuesta": "+1" },
    { "pregunta": "6 - (-2) + (-7) - 4", "respuesta": "-3" },
    { "pregunta": "-9 + (-2) + 3 - (-6)", "respuesta": "-2" },
    { "pregunta": "7 - (-3) + (-1) - (-5)", "respuesta": "+14" },
    { "pregunta": "-4 + (-6) - (-2) + 1", "respuesta": "-7" },
    { "pregunta": "5 - (-5) + (-3) - (-4)", "respuesta": "+11" },
    { "pregunta": "-7 + (-3) + 6 - (-2)", "respuesta": "-2" },
    { "pregunta": "8 - (-4) + (-5) - 3", "respuesta": "+4" },
    { "pregunta": "-3 + (-7) + 2 - (-1)", "respuesta": "-7" },
    { "pregunta": "6 - (-5) + (-4) - (-2)", "respuesta": "+9" },
    { "pregunta": "-2 + (-6) - (-3) + 5", "respuesta": "0" },
    { "pregunta": "4 - (-2) + (-7) - (-1)", "respuesta": "0" },
    { "pregunta": "-5 + (-3) + 4 - (-6)", "respuesta": "+2" },
    { "pregunta": "7 - (-1) + (-5) - (-3)", "respuesta": "+6" },
    { "pregunta": "-6 + (-2) - (-4) + 3", "respuesta": "-1" },
    { "pregunta": "5 - (-3) + (-6) - (-2)", "respuesta": "+4" },
    { "pregunta": "-4 + (-5) + 3 - (-1)", "respuesta": "-5" },
    { "pregunta": "6 - (-2) + (-3) - (-4)", "respuesta": "+9" },
    { "pregunta": "-7 + (-1) - (-5) + 2", "respuesta": "-1" },
    { "pregunta": "8 - (-3) + (-6) - (-2)", "respuesta": "+7" },
    { "pregunta": "-3 + (-4) + 5 - (-2)", "respuesta": "0" },
    { "pregunta": "7 - (-2) + (-1) - (-3)", "respuesta": "+11" },
    { "pregunta": "-5 + (-6) - (-2) + 4", "respuesta": "-5" },
    { "pregunta": "6 - (-4) + (-3) - (-1)", "respuesta": "+8" },
    { "pregunta": "-2 + (-5) + 7 - (-3)", "respuesta": "+3" },
    { "pregunta": "5 - (-3) + (-4) - (-2)", "respuesta": "+6" },
    { "pregunta": "-6 + (-1) - (-5) + 3", "respuesta": "+1" },
    { "pregunta": "8 - (-2) + (-6) - (-4)", "respuesta": "+8" },
    { "pregunta": "-3 + (-7) + 2 - (-5)", "respuesta": "-3" },
    { "pregunta": "7 - (-1) + (-3) - (-2)", "respuesta": "+7" },
    { "pregunta": "-4 + (-2) - (-6) + 5", "respuesta": "+5" },
    { "pregunta": "6 - (-3) + (-5) - (-1)", "respuesta": "+5" },
    { "pregunta": "-5 + (-4) + 3 - (-2)", "respuesta": "-4" },
    { "pregunta": "9 - (-2) + (-6) - (-3)", "respuesta": "+8" },
    { "pregunta": "-6 + (-3) - (-2) + 4", "respuesta": "-3" },
    { "pregunta": "5 - (-5) + (-4) - (-1)", "respuesta": "+7" },
    { "pregunta": "-7 + (-2) + 6 - (-3)", "respuesta": "0" },
    { "pregunta": "8 - (-1) + (-5) - (-2)", "respuesta": "+6" },
    { "pregunta": "-3 + (-6) - (-4) + 2", "respuesta": "-3" },
    { "pregunta": "6 - (-4) + (-2) - (-5)", "respuesta": "+13" },
    { "pregunta": "-2 + (-5) + 4 - (-3)", "respuesta": "0" },
    { "pregunta": "7 - (-3) + (-1) - (-6)", "respuesta": "+15" },
    { "pregunta": "-5 + (-2) - (-3) + 4", "respuesta": "0" },
    { "pregunta": "8 - (-5) + (-6) - (-1)", "respuesta": "+8" },
    { "pregunta": "-4 + (-3) + 7 - (-2)", "respuesta": "+2" },
    { "pregunta": "6 - (-1) + (-5) - (-3)", "respuesta": "+5" },
    { "pregunta": "-3 + (-2) - (-6) + 5", "respuesta": "+6" }
];

let aciertos = 0;
let tiempo = 5 * 60; // 5 minutos
let preguntaActual;

function iniciarPrueba(preguntas) {
    mostrarPreguntaAleatoria(preguntas);
    actualizarReloj();
    const timer = setInterval(() => {
        tiempo--;
        actualizarReloj();
        if (tiempo <= 0) {
            clearInterval(timer);
            alert("Se acabó el tiempo. La prueba se reinicia.");
            reiniciarPrueba();
        }
    }, 1000);

    document.getElementById("btnValidar").onclick = validarRespuesta;
    document.getElementById("respuesta").addEventListener("keydown", function(e){
        if (e.key === "Enter") validarRespuesta();
    });
}

function mostrarPreguntaAleatoria(preguntas) {
    const index = Math.floor(Math.random() * preguntas.length);
    preguntaActual = preguntas[index];
    document.getElementById("pregunta").innerText = preguntaActual.pregunta;
    document.getElementById("respuesta").value = "";
    document.getElementById("mensaje").innerText = "";
}

function validarRespuesta() {
    const respuestaUsuario = document.getElementById("respuesta").value.trim();
    if (Number(respuestaUsuario) === Number(preguntaActual.respuesta)) {
        aciertos++;
        document.getElementById("aciertosContador").innerText = `Aciertos: ${aciertos} / 5`;
        if (aciertos >= 5) {
            alert("¡Felicidades! Pasaste la prueba.");
            reiniciarPrueba();
            return;
        }
        mostrarPreguntaAleatoria(preguntasEj3);
    } else {
        document.getElementById("mensaje").innerText = `Respuesta incorrecta. Intenta otra pregunta.`;
    }
}

function reiniciarPrueba() {
    aciertos = 0;
    tiempo = 5 * 60;
    document.getElementById("aciertosContador").innerText = `Aciertos: 0 / 5`;
    mostrarPreguntaAleatoria(preguntasEj3);
}

function actualizarReloj() {
    const minutos = Math.floor(tiempo / 60).toString().padStart(2, '0');
    const segundos = (tiempo % 60).toString().padStart(2, '0');
    document.getElementById("reloj").innerText = `${minutos}:${segundos}`;
}

window.onload = () => iniciarPrueba(preguntasEj3);
</script>
</body>
</html>




