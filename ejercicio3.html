<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Ejercicio 3</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  #mensaje { margin-top: 10px; font-weight: bold; }
</style>
</head>
<body>
<h1>Ejercicio 3</h1>

<label>Nombre del estudiante: <input type="text" id="nombre"></label>
<div>Tiempo restante: <span id="timer">05:00</span></div>
<div id="pregunta" style="margin-top:10px; font-size:18px;"></div>
<input type="text" id="respuesta" placeholder="Escribe tu respuesta">
<button id="validar">Validar</button>
<div id="mensaje"></div>

<!-- Enlace para volver al menÃº principal -->
<p><a href="index.html">â¬… Volver al menÃº principal</a></p>

<script>
const preguntas = [
  {"preg":"-4 + (-5) + 3 - (-2)","res":"-4"},
  {"preg":"6 - (-3) + (-2) - 5","res":"4"},
  {"preg":"-7 - (-4) + 6 + (-3)","res":"0"},
  {"preg":"8 + (-2) - (-5) + (-3)","res":"8"},
  {"preg":"9 - (-6) + 2 - (-4)","res":"21"},
  {"preg":"-5 + (-7) - (-3) + 4","res":"-5"},
  {"preg":"7 - (-2) + (-5) - (-1)","res":"5"},
  {"preg":"-3 + 6 - (-4) + (-2)","res":"5"},
  {"preg":"4 - (-3) + (-6) - 2","res":"-1"},
  {"preg":"-6 + (-2) - (-5) + 3","res":"0"},
  {"preg":"5 - (-4) + (-3) - (-2)","res":"8"},
  {"preg":"-8 + (-1) + 7 - (-3)","res":"1"},
  {"preg":"3 - (-5) + (-4) - (-6)","res":"10"},
  {"preg":"-2 + (-3) + 5 - (-1)","res":"1"},
  {"preg":"6 - (-2) + (-7) - 4","res":"-3"},
  {"preg":"-9 + (-2) + 3 - (-6)","res":"-2"},
  {"preg":"7 - (-3) + (-1) - (-5)","res":"14"},
  {"preg":"-4 + (-6) - (-2) + 1","res":"-7"},
  {"preg":"5 - (-5) + (-3) - (-4)","res":"11"},
  {"preg":"-7 + (-3) + 6 - (-2)","res":"-2"},
  {"preg":"8 - (-4) + (-5) - 3","res":"4"},
  {"preg":"-3 + (-7) + 2 - (-1)","res":"-7"},
  {"preg":"6 - (-5) + (-4) - (-2)","res":"9"},
  {"preg":"-2 + (-6) - (-3) + 5","res":"0"},
  {"preg":"4 - (-2) + (-7) - (-1)","res":"0"},
  {"preg":"-5 + (-3) + 4 - (-6)","res":"2"},
  {"preg":"7 - (-1) + (-5) - (-3)","res":"6"},
  {"preg":"-6 + (-2) - (-4) + 3","res":"-1"},
  {"preg":"5 - (-3) + (-6) - (-2)","res":"4"},
  {"preg":"-4 + (-5) + 3 - (-1)","res":"-5"},
  {"preg":"6 - (-2) + (-3) - (-4)","res":"9"},
  {"preg":"-7 + (-1) - (-5) + 2","res":"-1"},
  {"preg":"8 - (-3) + (-6) - (-2)","res":"7"},
  {"preg":"-3 + (-4) + 5 - (-2)","res":"0"},
  {"preg":"7 - (-2) + (-1) - (-3)","res":"11"},
  {"preg":"-5 + (-6) - (-2) + 4","res":"-5"},
  {"preg":"6 - (-4) + (-3) - (-1)","res":"8"},
  {"preg":"-2 + (-5) + 7 - (-3)","res":"3"},
  {"preg":"5 - (-3) + (-4) - (-2)","res":"6"},
  {"preg":"-6 + (-1) - (-5) + 3","res":"1"},
  {"preg":"8 - (-2) + (-6) - (-4)","res":"8"},
  {"preg":"-3 + (-7) + 2 - (-5)","res":"-3"},
  {"preg":"7 - (-1) + (-3) - (-2)","res":"7"},
  {"preg":"-4 + (-2) - (-6) + 5","res":"5"},
  {"preg":"6 - (-3) + (-5) - (-1)","res":"5"},
  {"preg":"-5 + (-4) + 3 - (-2)","res":"-4"},
  {"preg":"9 - (-2) + (-6) - (-3)","res":"8"},
  {"preg":"-6 + (-3) - (-2) + 4","res":"-3"},
  {"preg":"5 - (-5) + (-4) - (-1)","res":"7"},
  {"preg":"-7 + (-2) + 6 - (-3)","res":"0"},
  {"preg":"8 - (-1) + (-5) - (-2)","res":"6"},
  {"preg":"-3 + (-6) - (-4) + 2","res":"-3"},
  {"preg":"6 - (-4) + (-2) - (-5)","res":"13"},
  {"preg":"-2 + (-5) + 4 - (-3)","res":"0"},
  {"preg":"7 - (-3) + (-1) - (-6)","res":"15"},
  {"preg":"-5 + (-2) - (-3) + 4","res":"0"},
  {"preg":"8 - (-5) + (-6) - (-1)","res":"8"},
  {"preg":"-4 + (-3) + 7 - (-2)","res":"2"},
  {"preg":"6 - (-1) + (-5) - (-3)","res":"5"},
  {"preg":"-3 + (-2) - (-6) + 5","res":"6"}
];

let aciertos = 0;
let tiempo = 300; // 5 minutos en segundos
let currentPregunta = null;
const timerDisplay = document.getElementById("timer");
const preguntaDiv = document.getElementById("pregunta");
const respuestaInput = document.getElementById("respuesta");
const mensajeDiv = document.getElementById("mensaje");

function reiniciarPrueba() {
  aciertos = 0;
  tiempo = 300;
  mensajeDiv.textContent = "";
  mostrarPregunta();
}

function mostrarPregunta() {
  const index = Math.floor(Math.random() * preguntas.length);
  currentPregunta = preguntas[index];
  preguntaDiv.textContent = currentPregunta.preg;
  respuestaInput.value = "";
  respuestaInput.focus();
}

function validarRespuesta() {
  if (respuestaInput.value.trim() === currentPregunta.res) {
    aciertos++;
    mensajeDiv.textContent = `Correcto! Llevas ${aciertos} aciertos.`;
    if (aciertos >= 5) {
      mensajeDiv.textContent = "ðŸŽ‰ Felicidades! Pasaste la prueba!";
      clearInterval(timerInterval);
    } else {
      mostrarPregunta();
    }
  } else {
    mensajeDiv.textContent = `Incorrecto! La respuesta correcta era ${currentPregunta.res}. Se reinicia la prueba.`;
    reiniciarPrueba();
  }
}

document.getElementById("validar").addEventListener("click", validarRespuesta);

respuestaInput.addEventListener("keydown", function(e){
  if (e.key === "Enter") {
    validarRespuesta();
  }
});

function actualizarTimer() {
  let minutos = Math.floor(tiempo / 60);
  let segundos = tiempo % 60;
  timerDisplay.textContent = `${minutos.toString().padStart(2,'0')}:${segundos.toString().padStart(2,'0')}`;
  if (tiempo <= 0) {
    clearInterval(timerInterval);
    mensajeDiv.textContent = "â° Tiempo agotado! Se reinicia la prueba.";
    reiniciarPrueba();
  }
  tiempo--;
}

const timerInterval = setInterval(actualizarTimer, 1000);

mostrarPregunta();
</script>
</body>
</html>
