<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Ejercicio 7 - Rodrigo Vives de Andreis</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f4f8;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    header {
      background-color: #1e3a8a;
      color: white;
      padding: 20px;
    }
    header h1 {
      margin: 0;
      font-size: 28px;
    }
    header h2 {
      margin: 5px 0 0 0;
      font-size: 18px;
      font-weight: normal;
    }
    main {
      max-width: 700px;
      margin: 30px auto;
      padding: 20px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .pregunta {
      margin-bottom: 20px;
      font-size: 18px;
    }
    input[type="text"] {
      width: 100px;
      padding: 5px;
      font-size: 16px;
      margin-left: 10px;
    }
    button {
      background-color: #1e3a8a;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 5px;
      margin-top: 10px;
    }
    button#volver {
      background-color: #6b7280;
      margin-top: 20px;
    }
    .resultado {
      margin-top: 20px;
      font-weight: bold;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Colegio Rodrigo Vives de Andreis</h1>
    <h2>Docente de Matemáticas: Manuel Villamizar | Año 2026</h2>
  </header>
  <main>
    <h2>Ejercicio 7 - Operaciones combinadas</h2>
    <div id="preguntas"></div>
    <button onclick="validarRespuesta()">Validar respuesta</button>
    <div class="resultado" id="resultado"></div>
    <button id="volver" onclick="window.location.href='index.html'">Volver al menú principal</button>
  </main>

  <script>
    const preguntasEj7 = [
      {pregunta: "10 + 5*2 - 20÷(-2) + (-2)", respuesta: "+28"},
      {pregunta: "(-12) + 18÷3 * (-2) - 4", respuesta: "-28"},
      {pregunta: "15 - 3*4 + (-6)÷2", respuesta: "0"},
      {pregunta: "(-10) + 4*3 - (-8)÷2", respuesta: "+6"},
      {pregunta: "20÷5 + 3*4 - 7", respuesta: "+9"},
      {pregunta: "(-12)÷3 + 5*2 - (-4)", respuesta: "+10"},
      {pregunta: "8 + (-6)*2 ÷ 2 - 1", respuesta: "+1"},
      {pregunta: "(-15) + 6÷2 * 4 - 5", respuesta: "-8"},
      {pregunta: "9*2 - (-12)÷3 + (-3)", respuesta: "+19"},
      {pregunta: "(-20)÷5 + 7*3 - 4", respuesta: "+13"},
      {pregunta: "6*5 - (-10)÷2 + (-6)", respuesta: "+29"},
      {pregunta: "(-18) + 9÷3 * (-2) + 5", respuesta: "-19"},
      {pregunta: "12 - (-6)*2 + 8 ÷ (-4)", respuesta: "+22"},
      {pregunta: "(-14) + 8*2 - 12 ÷ (-3)", respuesta: "+6"},
      {pregunta: "7 + 3*5 - (-15) ÷ 5", respuesta: "+25"},
      {pregunta: "(-10)÷2 + 6*3 - 4", respuesta: "+9"},
      {pregunta: "15 - (-8) ÷ 2 + 3*4", respuesta: "+31"},
      {pregunta: "(-9) + 12 ÷ 4 * (-3) + 6", respuesta: "-12"},
      {pregunta: "20 ÷ (-5) + 8*2 - 7", respuesta: "+5"},
      {pregunta: "(-16) + 10 ÷ 2 * 3 - 4", respuesta: "-5"},
      {pregunta: "5*4 - (-6) ÷ 3 + (-2)", respuesta: "+20"},
      {pregunta: "(-12) + 8 ÷ 4 * 5 - 7", respuesta: "-9"}
    ];

    let aciertos = 0;
    const maxAciertos = 3;
    let preguntasMostradas = [];

    function mostrarPregunta() {
      const preguntasDiv = document.getElementById("preguntas");
      preguntasDiv.innerHTML = "";

      // Filtrar preguntas que no se hayan mostrado aún
      const disponible = preguntasEj7.filter((_, i) => !preguntasMostradas.includes(i));
      if (disponible.length === 0) return;

      // Elegir pregunta aleatoria
      const index = Math.floor(Math.random() * disponible.length);
      const pregunta = disponible[index];
      preguntasMostradas.push(preguntasEj7.indexOf(pregunta));

      const div = document.createElement("div");
      div.classList.add("pregunta");
      div.innerHTML = `<label>${pregunta.pregunta} = </label>
                       <input type="text" id="respuestaUsuario">`;
      preguntasDiv.appendChild(div);
    }

    function validarRespuesta() {
      const input = document.getElementById("respuestaUsuario");
      if (!input) return;

      const ultimaPregunta = preguntasEj7[preguntasMostradas[preguntasMostradas.length-1]];
      let respuesta = input.value.trim();

      // Acepta "+" opcional al inicio
      if (respuesta === ultimaPregunta.respuesta || respuesta === ("+" + ultimaPregunta.respuesta.replace("+",""))) {
        aciertos++;
      }

      if (aciertos >= maxAciertos) {
        document.getElementById("resultado").innerText = `¡Felicidades! Lograste ${aciertos} aciertos.`;
        document.getElementById("preguntas").innerHTML = "";
      } else {
        mostrarPregunta();
      }
    }

    // Mostrar la primera pregunta al cargar
    window.onload = () => mostrarPregunta();
  </script>
</body>
</html>


