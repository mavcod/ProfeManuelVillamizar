<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ejercicio 5 - Problemas con Enteros</title>
<link rel="stylesheet" href="css/estilo.css">
</head>
<body>
<div class="container">
    <h2>Ejercicio 5: Problemas con números enteros</h2>

    <label>Nombre del estudiante:</label>
    <input type="text" id="nombre" placeholder="Escribe tu nombre">

    <div>
        <label>Tiempo restante: </label>
        <span id="reloj">05:00</span>
    </div>

    <div id="pregunta"></div>

    <input type="text" id="respuesta" placeholder="Escribe tu respuesta">
    <button id="btnValidar">Validar respuesta</button>

    <div id="mensaje"></div>
    <div id="aciertosContador">Aciertos: 0 / 3</div>

    <p><a href="index.html">⬅ Volver al menú principal</a></p>
</div>

<script>

const preguntasEj5 = [
{pregunta:"A las 6:00 a.m. la temperatura era de 5 grados bajo cero. Durante la mañana subió 8 grados y en la tarde bajó 6 grados. ¿Cuál es la temperatura final?",respuesta:"-3"},
{pregunta:"La temperatura era de 12 grados. En la noche descendió 18 grados y al amanecer aumentó 9 grados. ¿Cuál es la temperatura final?",respuesta:"+3"},
{pregunta:"A medianoche había 3 grados bajo cero. Bajó 4 grados más y luego subió 10 grados. ¿Cuál es la temperatura final?",respuesta:"+3"},
{pregunta:"La temperatura inicial era de 7 grados. Descendió 15 grados y luego aumentó 4 grados. ¿Cuál es la temperatura final?",respuesta:"-4"},
{pregunta:"Un día comenzó con 9 grados bajo cero. Subió 13 grados y luego bajó 8 grados. ¿Cuál es la temperatura final?",respuesta:"-4"},
{pregunta:"La temperatura estaba en 4 grados. Bajó 6 grados, luego bajó 3 grados más y finalmente subió 5 grados. ¿Cuál es la temperatura final?",respuesta:"0"},
{pregunta:"Un día inició con 2 grados bajo cero. Aumentó 7 grados y luego disminuyó 9 grados. ¿Cuál es la temperatura final?",respuesta:"-4"},
{pregunta:"La temperatura era de 15 grados. Bajó 20 grados y luego subió 6 grados. ¿Cuál es la temperatura final?",respuesta:"+1"},
{pregunta:"A las 5:00 a.m. había 6 grados bajo cero. Subió 11 grados y después descendió 5 grados. ¿Cuál es la temperatura final?",respuesta:"0"},
{pregunta:"La temperatura era de 10 grados. Bajó 12 grados y luego volvió a subir 3 grados. ¿Cuál es la temperatura final?",respuesta:"+1"},
{pregunta:"Un submarino está a 200 metros bajo el nivel del mar. Desciende 50 metros más y luego asciende 130 metros. ¿Dónde queda?",respuesta:"-120"},
{pregunta:"Un buzo está a 35 metros bajo el nivel del mar. Asciende 12 metros, desciende 20 metros y asciende 5 metros. ¿Cuál es su posición final?",respuesta:"-38"},
{pregunta:"Un pez salta 4 metros sobre el nivel del mar. Luego se sumerge 9 metros y después asciende 3 metros. ¿Dónde queda?",respuesta:"-2"},
{pregunta:"Una excavación alcanza 18 metros bajo el nivel del suelo. Se excavan 7 metros más y luego se rellenan 10 metros. ¿Cuál es la profundidad final?",respuesta:"-15"},
{pregunta:"Un ascensor parte del piso 6. Baja 9 pisos y luego sube 4 pisos. ¿En qué piso termina?",respuesta:"+1"},
{pregunta:"Un ascensor está en el piso 3. Sube 8 pisos, baja 10 pisos y sube 2 pisos. ¿Dónde termina?",respuesta:"+3"},
{pregunta:"Desde el piso 5 un ascensor baja 12 pisos y luego sube 6 pisos. ¿En qué piso queda?",respuesta:"-1"},
{pregunta:"Un ascensor está en el sótano 2. Sube 5 pisos y luego baja 7 pisos. ¿Dónde queda?",respuesta:"-4"},
{pregunta:"Desde el piso 10 baja 15 pisos y luego sube 9 pisos. ¿En qué piso termina?",respuesta:"+4"},
{pregunta:"Una persona nació en el año 320 antes de Cristo y vivió 67 años. ¿En qué año murió?",respuesta:"-253"},
{pregunta:"Una persona nació en el año 25 antes de Cristo y murió en el año 40 después de Cristo. ¿Cuántos años vivió?",respuesta:"65"},
{pregunta:"Una persona nació en el año 80 antes de Cristo y murió en el año 20 después de Cristo. ¿Cuántos años vivió?",respuesta:"100"},
{pregunta:"Una ciudad fue fundada en el año 500 antes de Cristo y existió durante 350 años. ¿En qué año desapareció?",respuesta:"-150"},
{pregunta:"Una persona nació en el año 75 antes de Cristo y murió en el año 25 antes de Cristo. ¿Cuántos años vivió?",respuesta:"50"},
{pregunta:"Un filósofo nació en el año 15 antes de Cristo y murió en el año 45 después de Cristo. ¿Cuántos años vivió?",respuesta:"60"},
{pregunta:"Un submarino está a 350 metros bajo el nivel del mar. Asciende 120 metros y luego desciende 200 metros. ¿Dónde queda?",respuesta:"-430"},
{pregunta:"Un ascensor está en el piso 9. Baja 14 pisos y luego sube 5 pisos. ¿Dónde termina?",respuesta:"0"},
{pregunta:"Un buzo está a 60 metros bajo el nivel del mar. Asciende 25 metros y luego asciende 50 metros más. ¿Dónde queda?",respuesta:"+15"},
{pregunta:"Un ascensor está en el sótano 3. Sube 10 pisos y baja 8 pisos. ¿En qué piso termina?",respuesta:"-1"},
{pregunta:"Un submarino está a 90 metros bajo el nivel del mar. Desciende 40 metros y luego asciende 70 metros. ¿Dónde queda?",respuesta:"-60"},
{pregunta:"Un ascensor parte del piso 4. Baja 9 pisos y luego sube 2 pisos. ¿En qué piso termina?",respuesta:"-3"},
{pregunta:"La temperatura era de 2 grados bajo cero. Subió 6 grados y luego bajó 9 grados. ¿Cuál es la temperatura final?",respuesta:"-5"}
];

let aciertos = 0;
let tiempo = 5 * 60;
let preguntaActual;
const meta = 3;

function iniciarPrueba(preguntas){
    mostrarPreguntaAleatoria(preguntas);
    actualizarReloj();

    const timer = setInterval(()=>{
        tiempo--;
        actualizarReloj();
        if(tiempo<=0){
            clearInterval(timer);
            alert("Se acabó el tiempo. La prueba se reinicia.");
            reiniciarPrueba();
        }
    },1000);

    document.getElementById("btnValidar").onclick = validarRespuesta;
    document.getElementById("respuesta").addEventListener("keydown",function(e){
        if(e.key==="Enter") validarRespuesta();
    });
}

function mostrarPreguntaAleatoria(preguntas){
    const index = Math.floor(Math.random()*preguntas.length);
    preguntaActual = preguntas[index];
    document.getElementById("pregunta").innerText = preguntaActual.pregunta;
    document.getElementById("respuesta").value="";
    document.getElementById("mensaje").innerText="";
}

function validarRespuesta(){
    const respuestaUsuario = document.getElementById("respuesta").value.trim();

    if(Number(respuestaUsuario) === Number(preguntaActual.respuesta)){
        aciertos++;
        document.getElementById("aciertosContador").innerText =
        `Aciertos: ${aciertos} / ${meta}`;

        if(aciertos >= meta){
            alert("¡Felicidades! Pasaste el Ejercicio 5.");
            reiniciarPrueba();
            return;
        }

        mostrarPreguntaAleatoria(preguntasEj5);
    }else{
        document.getElementById("mensaje").innerText =
        "Respuesta incorrecta. Intenta otra pregunta.";
    }
}

function reiniciarPrueba(){
    aciertos=0;
    tiempo=5*60;
    document.getElementById("aciertosContador").innerText =
    `Aciertos: 0 / ${meta}`;
    mostrarPreguntaAleatoria(preguntasEj5);
}

function actualizarReloj(){
    const minutos = Math.floor(tiempo/60).toString().padStart(2,'0');
    const segundos = (tiempo%60).toString().padStart(2,'0');
    document.getElementById("reloj").innerText=`${minutos}:${segundos}`;
}

window.onload = ()=> iniciarPrueba(preguntasEj5);

</script>
</body>
</html>


